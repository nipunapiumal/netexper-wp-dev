!function(){var supportsPassive=!1;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}});window.addEventListener("testPassive",null,opts),window.removeEventListener("testPassive",null,opts)}catch(e){}function init(){for(var input_begin="",keydowns={},lastKeyup=null,lastKeydown=null,keypresses=[],modifierKeys=[],correctionKeys=[],lastMouseup=null,lastMousedown=null,mouseclicks=[],mousemoveTimer=null,lastMousemoveX=null,lastMousemoveY=null,mousemoveStart=null,mousemoves=[],touchmoveCountTimer=null,touchmoveCount=0,lastTouchEnd=null,lastTouchStart=null,touchEvents=[],scrollCountTimer=null,scrollCount=0,correctionKeyCodes=["Backspace","Delete","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"],modifierKeyCodes=["Shift","CapsLock"],forms=document.querySelectorAll("form[method=post]"),i=0;i<forms.length;i++){var form=forms[i],formAction=form.getAttribute("action");(!formAction||0!=formAction.indexOf("http://")&&0!=formAction.indexOf("https://")||0==formAction.indexOf("http://"+window.location.hostname+"/")||0==formAction.indexOf("https://"+window.location.hostname+"/"))&&(form.addEventListener("submit",function(){var ak_bkp=prepare_timestamp_array_for_request(keypresses),ak_bmc=prepare_timestamp_array_for_request(mouseclicks),ak_bte=prepare_timestamp_array_for_request(touchEvents),ak_bmm=prepare_timestamp_array_for_request(mousemoves),input_fields={bib:input_begin,bfs:Date.now(),bkpc:keypresses.length,bkp:ak_bkp,bmc:ak_bmc,bmcc:mouseclicks.length,bmk:modifierKeys.join(";"),bck:correctionKeys.join(";"),bmmc:mousemoves.length,btmc:touchmoveCount,bsc:scrollCount,bte:ak_bte,btec:touchEvents.length,bmm:ak_bmm},akismet_field_prefix="ak_",field_name;if(this.getElementsByClassName)for(var possible_akismet_containers=this.getElementsByClassName("akismet-fields-container"),containerIndex=0;containerIndex<possible_akismet_containers.length;containerIndex++){var container=possible_akismet_containers.item(containerIndex);if(container.getAttribute("data-prefix")){akismet_field_prefix=container.getAttribute("data-prefix");break}}for(field_name in input_fields){var field=document.createElement("input");field.setAttribute("type","hidden"),field.setAttribute("name",akismet_field_prefix+field_name),field.setAttribute("value",input_fields[field_name]),this.appendChild(field)}},!!supportsPassive&&{passive:!0}),form.addEventListener("keydown",function(e){var keydownTime,lastKeyEvent;e.key in keydowns||(keydownTime=(new Date).getTime(),keydowns[e.key]=[keydownTime],input_begin=input_begin||keydownTime,(lastKeyEvent=Math.max(lastKeydown,lastKeyup))&&keydowns[e.key].push(keydownTime-lastKeyEvent),lastKeydown=keydownTime)},!!supportsPassive&&{passive:!0}),form.addEventListener("keyup",function(e){var keyupTime,keydownTime,keypress;e.key in keydowns&&(keyupTime=(new Date).getTime(),"TEXTAREA"!==e.target.nodeName&&"INPUT"!==e.target.nodeName||(-1!==modifierKeyCodes.indexOf(e.key)?modifierKeys.push(keypresses.length-1):-1!==correctionKeyCodes.indexOf(e.key)?correctionKeys.push(keypresses.length-1):(keydownTime=keydowns[e.key][0],(keypress=[]).push(keyupTime-keydownTime),1<keydowns[e.key].length&&keypress.push(keydowns[e.key][1]),keypresses.push(keypress))),delete keydowns[e.key],lastKeyup=keyupTime)},!!supportsPassive&&{passive:!0}),form.addEventListener("focusin",function(e){lastKeyup=lastKeydown=null,keydowns={}},!!supportsPassive&&{passive:!0}),form.addEventListener("focusout",function(e){lastKeyup=lastKeydown=null,keydowns={}},!!supportsPassive&&{passive:!0}))}document.addEventListener("mousedown",function(e){lastMousedown=(new Date).getTime()},!!supportsPassive&&{passive:!0}),document.addEventListener("mouseup",function(e){var now,mouseclick;lastMousedown&&(now=(new Date).getTime(),(mouseclick=[]).push(now-lastMousedown),lastMouseup&&mouseclick.push(lastMousedown-lastMouseup),mouseclicks.push(mouseclick),lastMouseup=now,lastKeyup=lastKeydown=null,keydowns={})},!!supportsPassive&&{passive:!0}),document.addEventListener("mousemove",function(e){mousemoveTimer?(clearTimeout(mousemoveTimer),mousemoveTimer=null):(mousemoveStart=(new Date).getTime(),lastMousemoveX=e.offsetX,lastMousemoveY=e.offsetY),mousemoveTimer=setTimeout(function(theEvent,originalMousemoveStart){var now=(new Date).getTime()-500,mousemove=[];mousemove.push(now-originalMousemoveStart),mousemove.push(Math.round(Math.sqrt(Math.pow(theEvent.offsetX-lastMousemoveX,2)+Math.pow(theEvent.offsetY-lastMousemoveY,2)))),0<mousemove[1]&&mousemoves.push(mousemove),mousemoveTimer=mousemoveStart=null},500,e,mousemoveStart)},!!supportsPassive&&{passive:!0}),document.addEventListener("touchmove",function(e){touchmoveCountTimer&&clearTimeout(touchmoveCountTimer),touchmoveCountTimer=setTimeout(function(){touchmoveCount++},500)},!!supportsPassive&&{passive:!0}),document.addEventListener("touchstart",function(e){lastTouchStart=(new Date).getTime()},!!supportsPassive&&{passive:!0}),document.addEventListener("touchend",function(e){var now,touchEvent;lastTouchStart&&(now=(new Date).getTime(),(touchEvent=[]).push(now-lastTouchStart),lastTouchEnd&&touchEvent.push(lastTouchStart-lastTouchEnd),touchEvents.push(touchEvent),lastTouchEnd=now,lastKeyup=lastKeydown=null,keydowns={})},!!supportsPassive&&{passive:!0}),document.addEventListener("scroll",function(e){scrollCountTimer&&clearTimeout(scrollCountTimer),scrollCountTimer=setTimeout(function(){scrollCount++},500)},!!supportsPassive&&{passive:!0})}function prepare_timestamp_array_for_request(a,limit){limit=limit||100;var rv="";if(0<a.length)for(var random_starting_point=Math.max(0,Math.floor(Math.random()*a.length-limit)),i=0;i<limit&&i<a.length;i++)rv+=a[random_starting_point+i][0],2<=a[random_starting_point+i].length&&(rv+=","+a[random_starting_point+i][1]),rv+=";";return rv}"loading"!==document.readyState?init():document.addEventListener("DOMContentLoaded",init)}();