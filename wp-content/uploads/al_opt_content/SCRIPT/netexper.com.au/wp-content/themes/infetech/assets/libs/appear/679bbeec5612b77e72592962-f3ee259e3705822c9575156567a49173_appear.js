($=>{$.fn.appear=function(fn,options){var settings=$.extend({data:void 0,one:!0,accX:0,accY:0},options);return this.each(function(){var t=$(this),w,check,modifiedFn;t.appeared=!1,fn?(w=$(window),check=function(){var a,b,o,x,o,ax,ay,th,wh,tw,ww;t.is(":visible")&&(a=w.scrollLeft(),b=w.scrollTop(),x=(o=t.offset()).left,o=o.top,ax=settings.accX,ay=settings.accY,th=t.height(),wh=w.height(),tw=t.width(),ww=w.width(),b<=o+th+ay)&&o<=b+wh+ay&&a<=x+tw+ax&&x<=a+ww+ax?t.appeared||t.trigger("appear",settings.data):t.appeared=!1},modifiedFn=function(){var i;t.appeared=!0,settings.one&&(w.unbind("scroll",check),0<=(i=$.inArray(check,$.fn.appear.checks)))&&$.fn.appear.checks.splice(i,1),fn.apply(this,arguments)},settings.one?t.one("appear",settings.data,modifiedFn):t.bind("appear",settings.data,modifiedFn),w.scroll(check),$.fn.appear.checks.push(check),check()):(t.trigger("appear",settings.data),void 0)})},$.extend($.fn.appear,{checks:[],timeout:null,checkAll:function(){var length=$.fn.appear.checks.length;if(0<length)for(;length--;)$.isFunction($.fn.appear.checks[length])&&$.fn.appear.checks[length]()},run:function(){$.fn.appear.timeout&&clearTimeout($.fn.appear.timeout),$.fn.appear.timeout=setTimeout($.fn.appear.checkAll,20)}}),$.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(i,n){var old=$.fn[n];old&&($.fn[n]=function(){var r=old.apply(this,arguments);return $.fn.appear.run(),r})})})(jQuery);